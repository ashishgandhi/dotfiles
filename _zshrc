# Customize
# With "vi" in EDITOR or VISUAL, zle picks vi bindings
bindkey -e
PROMPT='‚ùØ '
ZLE_REMOVE_SUFFIX_CHARS=' \t\n;&)'
setopt CORRECT

# History
setopt EXTENDED_HISTORY
setopt INC_APPEND_HISTORY_TIME
HISTFILE="${HOME}/.zsh_history"
HISTSIZE=10000
SAVEHIST=10000

# Completion
zstyle ':completion:*' menu select
zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}' 'r:|[._-]=* r:|=*' 'l:|=* r:|=*'
autoload -Uz compinit
for dump in ~/.zcompdump(N.mh+24); do
  compinit -u
done
compinit -C

# Tools
source "$(brew --prefix fzf)/shell/key-bindings.zsh"
source "$(brew --prefix fzf)/shell/completion.zsh"
source "${HOME}/.config/iterm2/shell_integration.zsh"
eval "$(zoxide init --cmd j zsh)"

# Aliases
alias ls='ls -G'
alias grep='grep -E --color=auto'
alias fgrep='grep -F'
alias f='mdfind -onlyin .'
alias h='fc -liD'
alias yd="yt-dlp -f 'best[ext=mp4]'"
alias ybest="yt-dlp -f 'bestvideo[ext=mp4]+bestaudio[ext=m4a]/mp4'"
alias jsc="/System/Library/Frameworks/JavaScriptCore.framework/Versions/Current/Helpers/jsc"
